# M8 - Steam bots and trade operations automate
---
## Оглавление

  - [Ссылки](#link1)
  - [Введение](#link2)
  - [Теоретическая база](#link3)
	- [Функционал](#link98)
	- [Схемы взаимодействий с другими пакетами](#link99)
  - [Заметки к релизам](#link100)

---

## Ссылки <a id="link1"></a>
```

  > Адрес репозитория пакета M8 на github
      https://github.com/4gekkman/m8


```

## Введение <a id="link2"></a>
```

  > Каково назначение этого M-пакета?
    - Управление Steam-ботами.
    - Автоматизация торговых операций в Steam.

  > Пакет работает в связке с M5
    - Пакет M5 предназначен для управления пользователями и правами.
    - Steam-ботами могут быть любые зарегистрированные там Steam-пользователи.
    - Без пакета M5 пакет M8 не может функционировать, т.е. является зависимым.
    - Эта зависимость проявляется в транс-пакетной их связи, определённой в БД M8.
 
 
```

## Теоретическая база <a id="link3"></a>
```

-----------------------------------
Оглавление

  # Ссылки
  # Введение

  # Боты
  # Мобильный аутентификатор и коды



-----------------------------------

> Ссылки

  #

> Введение
  - Это теоретическая база пакета M8.
  - Здесь дана полная цельная картина его работы в мелком масштабе.
  - А также рассмотрены подробнее все наиболее важные части этой картины.

> Боты
  - Бот, это аккаунт в Steam, управляемый сторонним приложением.
  - Логика управления ботом может быть заложена в приложении абсолютно любая.
  - Например, от имени бота могут отправляться/приниматься торговые предложения.

> Мобильный аутентификатор и коды

  • Общая информация о МА
    - Для входа в аккаунт и совершения многих операций требуется подтверждение.
    - Подтверждение осуществляется через мобильный аутентификатор Steam.
    - На основе заложенного алгоритма МА генерирует короткие коды подтверждения.
    - МА был декомпилирован, алгоритм был извлечён и опубликован публично.
    - Как следствие, алгоритм с успехом используется сторонними приложениями.
    - Для использования алгоритма необходимо извлечь кое-какие данные из смартфона.
    - Эти данные содержатся в файле вида "Steamguard-<steamid>" в смартфоне.

  • Чтобы стороннее приложение могло генерировать коды МА, нужны следующие данные

      {
        "shared_secret":    "",
        "serial_number":    "",
        "revocation_code":  "",
        "uri":              "",
        "server_time":      "",
        "account_name":     "",
        "token_gid":        "",
        "identity_secret":  "",
        "secret_1":         "",
      }

  • Как извлечь из смартфона на Android файл "Steamguard-<steamid>"
    - Сначала надо получить root-доступ.
    - Потом в меню нажать 10 раз на "О телефоне", открыв настройки для разработчика.
    - Войдя в 

>







> Мозговой штурм

  - Ботом может стать лишь steam-пользователь.
  - То есть пользователь, состоящей в определённой группе, например "SteamUsers".
  - Имя этой группы должно быть можно указать в настройках M8.

  - Ботами являются все пользователи, состоящие в определённой группе, например "SteamBots".
  - Имя этой группы должно быть можно указать в настройках M8.

  - В M8 есть отдельная таблица с доп.свойствами для ботов.
  - Это, как минимум, 4 свойства:

    • login
    • password
    • shared_secret
    • identity_secret

  - В M8 должен быть интерфейс, показывающий всех ботов из SteamBots
  - В в нём должно быть можно входить редактировать доп.свойства каждого бота
  - Во фронт-таблице должны быть показаны какие-то важные хар-ки каждого бота

  - Необходимо обеспечить ботов функционалом по работе с торговыми предложениями.
  - Боты должны уметь делать следующее:

    • Создавать ТП к указанному торговому URL с указанными вещами из своего инвентаря.

  - Мониторинг инвентаря бота
  - Вещи из инвентаря в клиенте
  - Обновление инвентаря не через API в клиенте каждые N секунд ajax-запросами
  - Возможность выбирать вещи из инвентаря чекбоксами
  - Без пагинации
  - Возможность выбрать вещи и послать вещи через ТП указанному пользователю Steam

  - Мониторинг торговых предложений бота
  - Мониторятся входящие и исходящие ТП

  - Сделать для каждого бота раздел "Торговля"
  - При входе в него инвентарь и входящие/исходящие ТП обновляются.
  - Также имеется кнопка "обновить" для ручного их обновления.
  - Вещи в инвентаре можно выбирать чекбоксами
  - Есть функция отправки ТП с выбранными вещами по указанному торг.URL, при этом срабатывает обновление
  - Можно принимать/отклонять входящие ТП, отменять исходящие ТП.

Вообще, опишу тот функционал, который нам нужен сейчас, в двух словах, чтобы общее понимание было:

1. Список ботов и возможность редактирования их данных
   (которые им нужны для автоматической торговли).

2. Возможность просматривать инвентари ботов прямо
   из интерфейса личного кабинета сайта.

3. Возможность совершать обмены от имени ботов прямо
   из интерфейса личного кабинета. То есть, отправлять
   вещи другому пользователю стим, и принимать торговые
   предложения.


```

## Функционал <a id="link98"></a>
```

  # Команды и к.команды общего назначения #
  #---------------------------------------#

    Команда                 К.Команда                   Описание
    ----------------------------------------------------------------------------------------------------------------------
    command                 | m1:command                | Description of the command


```
## Схемы взаимодействий с другими пакетами <a id="link99"></a>
```

  # Pull-взаимодействия (по инициативе этого пакета) #
  #--------------------------------------------------#

    ---------------------------------------------------------------------------------------------
    Пакет     Команда     К.Команда     Обработчик      Событие           Комментарий
    ---------------------------------------------------------------------------------------------

      -

  # Push-взаимодействия (по инициативе других пакетов) #
  #----------------------------------------------------#

    ---------------------------------------------------------------------------------------------
    Пакет     Команда     К.Команда     Обработчик      Событие           Комментарий
    ---------------------------------------------------------------------------------------------

      -


```
## Заметки к релизам <a id="link100"></a>
```

  1.0.0
    - Первый релиз.

```










