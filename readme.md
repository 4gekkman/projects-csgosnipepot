# M12 - Frequently Asked Questions
---
## Оглавление

  - [Ссылки](#link1)
  - [Полная картина в мелком масштабе](#link2)
  - [Заметки к релизам](#link100)

---

## Ссылки <a id="link1"></a>
```

  # Пакет для работы с markdown в Laravel 5.*
      https://packagist.org/packages/graham-campbell/markdown

  # Markdown cheat sheet
	  https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet

			
```

## Полная картина в мелком масштабе <a id="link2"></a>
```

  # Каждая статья, это отдельный markdown-файл
    - Все статьи пишутся в формате markdown.
    - Каждая статья является отдельным файлом с расширением .md

  # Базовая папка со статьями FAQa
    - В конфиге можно указать путь к базовой папке со статьями от корня проекта.
    - Формат того, что внутри базовой папки, такой:

      <faq №1>          | Папка, представляющая отдельный FAQ
        <Группа №1>     | Папка, представляющая отдельную группу
          <Статья №1>   | Файл .md, представляющий статью
          <Статья №2>   | Файл .md, представляющий статью
          <imgs>        | Папка с картинками группы
          <avatar>      | Файл group_avatar.jgp под аватар группы

    - Пример:

      • Путь к базовой папке относительно корня проекта
        - Пусть корневая папка с проектом у нас называется project, путь будет относительно неё.
        - "vendor/4gekkman/R6".
        - Вот, что может в ней лежать:

          cshogap
            classicgame
              howtoplay.md
              withdraw

  # Подстановка базового URL для изображений на клиенте

    • В чем проблема с URL изображений?
      - У одного и того же сайта может быть несколько разных хостов.
      - Например: localhost, localhost:3000 (browser sync), 180.10.10.10 (ip), site.ru (домен).
      - Необходимо, чтобы изображения в FAQ работали и загружались независимо от хоста.

    • Базовый URL для изображений FAQа
      - Эта та часть URL изображений FAQа, которая никогда не меняется относительно остальных оных.

    • Используем плейсхолдеры, заменяем их на клиенте на базовый URL
      - В MD-файлах можно либо писать full-url, либо вместо базового URL подставлять плейсхолдер.
      - Примеры:

        ▪ Базовый URL
          - http://site.ru/public/faq

        ▪ Полный URL
          - http://site.ru/public/faq/csgohap/classicgame/howtoplay

        ▪ URL с плейсхолдером на месте базового URL
          - {{$baseuri}}/csgohap/classicgame/howtoplay

      - Базовый URL изображений FAQ передаётся в клиент при загрузке документа.
      - И уже в клиенте он, с помощью рег.выражений, подставляется при загрузке HTML-документов FAQ,
        непосредственно перед подстановкой этих HTML куда надо.



  # Общая полная картина

    - При запросе и отсутствии кэша, или раз в час, срабатывает функция update cache.
    - Она всё это парсит в БД, и помещает в кэш на 120 минут.
    - Относ. URI статей формирует на основании названий папок faq, группы и имени статьи.
    - Причём, в кэш помещаются уже HTML-, а не md-версии статей. Плюс, вспомогательная инфа.
    - MD-версии статей преобразуются в HTML-версии с помощью одного из многих парсеров.
    - Плюс, аватар и картинки групп копируются в public-папку проекта.
    -






```

## Заметки к релизам <a id="link100"></a>
```

  1.0.0
    - Первый релиз.

```










